<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Calculator — Clean & Responsive</title>
<style>
:root{
--bg:#0f1724; /* dark navy */
--panel:#0b1220;
--accent:#7c3aed; /* purple */
--muted:#93a3b8;
--glass: rgba(255,255,255,0.04);
font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
background: radial-gradient(1000px 600px at 10% 10%, rgba(124,58,237,0.15), transparent),
linear-gradient(180deg, rgba(255,255,255,0.02), transparent 40%),
var(--bg);
color:#e6eef8;
display:flex;
align-items:center;
justify-content:center;
padding:32px;
-webkit-font-smoothing:antialiased;
-moz-osx-font-smoothing:grayscale;
}
.calculator{
width:360px;
max-width:100%;
background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
border-radius:16px;
padding:20px;
box-shadow: 0 8px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
border:1px solid rgba(255,255,255,0.03);
}
.top{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.title{font-size:14px;color:var(--muted)}
.screen{
background:var(--panel);
border-radius:10px;
padding:14px 16px;
min-height:86px;
display:flex;
flex-direction:column;
justify-content:center;
align-items:flex-end;
gap:6px;
margin-bottom:14px;
border:1px solid rgba(255,255,255,0.03);
}
.history{font-size:13px;color:var(--muted);opacity:0.9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}
.output{font-size:28px;font-weight:600;word-break:break-all}
.kbd-hint{font-size:11px;color:var(--muted)}

.keys{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
button.key{
background:var(--glass);
border:1px solid rgba(255,255,255,0.03);
padding:16px;
border-radius:10px;
font-size:18px;
color:inherit;
cursor:pointer;
transition:transform .06s ease, box-shadow .06s ease, background .06s ease;
user-select:none;
}
button.key:active{transform:translateY(1px)}
.key.operator{background:linear-gradient(180deg, rgba(124,58,237,0.14), rgba(124,58,237,0.08));}
.key.wide{grid-column:span 2}
.key.ac{background:linear-gradient(180deg, rgba(255,75,75,0.08), transparent)}
.key.equal{background:linear-gradient(180deg, rgba(34,197,94,0.12), rgba(34,197,94,0.06)); font-weight:700}

.footer{margin-top:12px;text-align:center;font-size:12px;color:var(--muted)}

@media (max-width:420px){
.calculator{padding:16px}
.output{font-size:24px}
button.key{padding:14px;font-size:16px}
}
</style>
</head>
<body>
<div class="welcome-screen" style="text-align:center; padding:40px;">
<h1>Welcome, this is built by Jahnavi</h1>
<button id="openCalcBtn" style="margin-top:20px; padding:12px 24px; font-size:18px; border-radius:8px; border:none; cursor:pointer;">Open</button>
</div>
<script>
document.addEventListener('DOMContentLoaded',()=>{
const openBtn=document.getElementById('openCalcBtn');
const calc=document.querySelector('.calculator');
openBtn.addEventListener('click',()=>{
document.querySelector('.welcome-screen').style.display='none';
calc.style.display='block';
});
calc.style.display='none';
});
</script>

<div class="calculator" role="application" aria-label="Calculator">
<div class="top">
<div class="title">Simple Calculator</div>
<div class="kbd-hint">Keys: 0-9 . + - × ÷ Enter</div>
</div>

<div class="screen">
<div class="history" id="history" aria-live="polite"></div>
<div class="output" id="output">0</div>
</div>

<div class="keys" role="group">
<button class="key ac" data-action="clear">AC</button>
<button class="key" data-action="back">⌫</button>
<button class="key" data-action="percent">%</button>
<button class="key operator" data-action="operator" data-value="/">÷</button>

<button class="key" data-value="7">7</button>
<button class="key" data-value="8">8</button>
<button class="key" data-value="9">9</button>
<button class="key operator" data-action="operator" data-value="*">×</button>

<button class="key" data-value="4">4</button>
<button class="key" data-value="5">5</button>
<button class="key" data-value="6">6</button>
<button class="key operator" data-action="operator" data-value="-">−</button>

<button class="key" data-value="1">1</button>
<button class="key" data-value="2">2</button>
<button class="key" data-value="3">3</button>
<button class="key operator" data-action="operator" data-value="+">+</button>

<button class="key wide" data-action="plusminus">±</button>
<button class="key" data-value="0">0</button>
<button class="key" data-value=".">.</button>
<button class="key equal" data-action="equals">=</button>
</div>

<div class="footer">Responsive • Keyboard support • Floating point safe</div>
</div>

<script>
(function(){
const outputEl = document.getElementById('output');
const historyEl = document.getElementById('history');
let current = '';
let lastExpression = '';

function render(){
outputEl.textContent = current === '' ? '0' : current;
historyEl.textContent = lastExpression;
}

function appendChar(ch){
// prevent multiple leading zeros
if (current === '0' && ch !== '.' ) current = ch;
else current += ch;
}

function safeEval(expr){
// basic safety: allow digits, operators, decimal, parentheses, spaces
if (!/^[-+*/.%0-9()\s]+$/.test(expr)) throw new Error('Invalid characters');
// replace % with /100
expr = expr.replace(/%/g, '/100');
// evaluate using Function to avoid eval name
return Function('return (' + expr + ')')();
}

function handleAction(action, value){
try{
if(action === 'clear'){
current = '';
lastExpression = '';
} else if(action === 'back'){
current = current.slice(0,-1);
} else if(action === 'percent'){
if(current) {
current = String(parseFloat(current) / 100);
}
} else if(action === 'operator'){
// add operator to expression
if(!current && lastExpression) {
// change operator at end
lastExpression = lastExpression.replace(/[+\-*/%]+$/,'') + value;
} else if(current){
lastExpression = lastExpression + current + value;
current = '';
}
} else if(action === 'equals'){
let expr = lastExpression + current;
if(!expr) return;
// convert unicode dash to normal minus
expr = expr.replace(/−/g,'-');
const result = safeEval(expr);
lastExpression = expr + ' =';
current = String(Number.isFinite(result) ? result : 'Error');
} else if(action === 'plusminus'){
if(!current) return;
if(current.startsWith('-')) current = current.slice(1);
else current = '-' + current;
}
} catch(e){
current = 'Error';
lastExpression = '';
}
render();
}

document.querySelectorAll('.key').forEach(btn => {
btn.addEventListener('click', e => {
const val = btn.dataset.value;
const action = btn.dataset.action;
if(val !== undefined){
// number or dot
if(val === '.' && current.includes('.')) return;
appendChar(val);
render();
} else if(action){
handleAction(action, btn.dataset.value);
}
});
});

// keyboard support
window.addEventListener('keydown', e => {
if(e.key >= '0' && e.key <= '9') { appendChar(e.key); render(); e.preventDefault(); return; }
if(e.key === '.') { if(!current.includes('.')) { appendChar('.'); render(); } e.preventDefault(); return; }
if(e.key === 'Enter' || e.key === '='){ handleAction('equals'); e.preventDefault(); return; }
if(e.key === 'Backspace'){ handleAction('back'); e.preventDefault(); return; }
if(e.key === 'Escape'){ handleAction('clear'); e.preventDefault(); return; }
if(['+','-','*','/'].includes(e.key)){
handleAction('operator', e.key);
e.preventDefault();
return;
}
if(e.key === '%'){ handleAction('percent'); e.preventDefault(); return; }
});

// prevent accidental form submissions / selection
document.addEventListener('selectstart', e => e.preventDefault());

render();
})();
</script>
</body>
</html>